var __;"undefined"!=typeof wp&&wp.i18n&&void 0===__&&(wp.i18n.setLocaleData({},"webnorthcodechallenge"),__=wp.i18n.__);let getWebNorthCodeChallengeSettings=()=>({restUrl:webnorthCodeChallengeSettings?.rest_url??"",nonce:webnorthCodeChallengeSettings?.nonce??""}),loadWeatherData=async e=>{var{restUrl:t,nonce:n}=getWebNorthCodeChallengeSettings();if(t&&n)try{var a=await fetch(t+"weather-station/"+e,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":n}});if(!a.ok)throw new Error("HTTP error! status: "+a.status);var o=await a.json();if(!o||!o.data)return console.warn("No weather data found for station ID:",e),null;o.data}catch(e){return console.error("Error fetching weather data:",e),null}else console.error("REST URL or nonce is not defined.")};document.addEventListener("DOMContentLoaded",function(){if("undefined"!=typeof webnorthCodeChallengeSettings&&Array.isArray(webnorthCodeChallengeSettings.weather_stations)){var t=webnorthCodeChallengeSettings.weather_stations,n=t[0];let e=L.map("mapWrap").setView([n.lat,n.lng],6);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(e),t.forEach(d=>{let c=parseFloat(d.lat),h=parseFloat(d.lng);if(c&&h){let l=L.marker([c,h]).addTo(e).bindPopup(__("Latitude","webnorthcodechallenge")+`: ${c}<br>`+__("Longitude","webnorthcodechallenge")+`: ${h}<br>`+d.title);l.on("click",function(){var e,t,n,a,o,i,r,s;l.setPopupContent(__("Latitude","webnorthcodechallenge")+`: ${c}<br>`+__("Longitude","webnorthcodechallenge")+`: ${h}<br>`+d.title).openPopup(),[e,t,n=""]=[c,h,d.title],(a=document.querySelector("#sidebarContent"))&&(a.innerHTML="",(o=document.createElement("div")).className="sidebar-header",(i=document.createElement("div")).className="temp-buttons",(r=document.createElement("button")).id="celciusBtn",r.classList.add("active"),r.textContent=__("Celcius","webnorthcodechallenge")+" /",(s=document.createElement("button")).id="fahrenheitBtn",s.innerHTML="&nbsp;"+__("Fahrenheit","webnorthcodechallenge"),i.appendChild(r),i.appendChild(s),(r=document.createElement("button")).id="saveBtn",r.innerHTML=`
            <svg width="19" height="25" viewBox="0 0 19 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M0.53125 2.25L1.8125 0.96875H17.1875L18.4688 2.25V24.9985L9.5 19.6837L0.53125 24.9985V2.25ZM3.09375 3.53125V20.5015L9.5 16.7051L15.9062 20.5015V3.53125H3.09375Z"
                      fill="#EEEEEE"/>
            </svg>`,o.appendChild(i),o.appendChild(r),a.appendChild(o),(s=document.createElement("div")).innerHTML=`
            ${n?`<h3>${n}</h3><br>`:""}
            <span class="fw-600">`+__("Latitude","webnorthcodechallenge")+`:</span> ${e}<br>
            <span class="fw-600">`+__("Longitude","webnorthcodechallenge")+`:</span> ${t}<br>
        `,a.appendChild(s))})}})}else console.warn("No weather stations data found.")}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".sidebar");var e=document.getElementById("scroll-trigger"),e=(new IntersectionObserver(e=>{e[0].isIntersecting?t.classList.add("active"):t.classList.contains("active")&&t.classList.remove("active")},{threshold:.01}).observe(e),document.getElementById("sidebarMobileCurtain"));let n=0;e.addEventListener("touchstart",e=>{n=e.touches[0].clientY}),e.addEventListener("touchend",e=>{e=e.changedTouches[0].clientY-n;e<-30?t.classList.contains("close")?t.classList.remove("close"):t.classList.add("open"):30<e&&(t.classList.contains("open")?t.classList.remove("open"):t.classList.add("close"))}),(()=>{let o=CSS.supports("animation-timeline","scroll()"),i=new Map,t=!1,s=(e,t,n)=>e+(t-e)*n,l=e=>{var t=parseFloat(e);return{val:t,unit:e.replace(t,"")}},r=()=>{let e=Math.min(1,window.scrollY/(document.body.scrollHeight-window.innerHeight));i.forEach(({el:a,frames:t})=>{var n=100*e;let[o,i]=[t[0],t[t.length-1]];for(let e=0;e<t.length-1;e++)if(n>=t[e].p&&n<=t[e+1].p){[o,i]=[t[e],t[e+1]];break}let r=o.p===i.p?0:(n-o.p)/(i.p-o.p);Object.keys(o.styles).forEach(e=>{var t=l(o.styles[e]),n=l(i.styles[e]||o.styles[e]);"opacity"===e?a.style.opacity=s(t.val,n.val,r):"visibility"===e?(console.log(r),a.style.visibility=.99<r?"hidden":"visible"):t.unit===n.unit&&(a.style[e]=s(t.val,n.val,r)+t.unit)})}),t=!1};return o||addEventListener("scroll",()=>{t||(requestAnimationFrame(r),t=!0)},{passive:!0}),(e,t)=>{var n,a;o?(a=`@keyframes ${n="sa"+Math.random().toString(36).slice(2,8)}{${Object.entries(t).map(([e,t])=>`${e}{${Object.entries(t).map(([e,t])=>e+":"+t).join(";")}}`).join("")}}`,document.head.appendChild(Object.assign(document.createElement("style"),{textContent:a})),Object.assign(e.style,{animationName:n,animationDuration:"auto",animationTimeline:"scroll()"})):(i.set(e,{el:e,frames:Object.entries(t).map(([e,t])=>({p:parseFloat(e),styles:t})).sort((e,t)=>e.p-t.p)}),r())}})()(document.querySelector("header.header"),{"0%":{opacity:"1",visibility:"visible"},"100%":{opacity:"0",visibility:"hidden"}})});